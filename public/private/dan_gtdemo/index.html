<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="author" content="John A. Bernau">
<meta name="description" content="Google Trends Dan Demo, August 2018
There is an R package that allows you to directly import GoogleTrend data. You specify 1) search terms, 2) geographic region, and 3) time span. You can search one word or multiple-word phrases by combining with “&#43;”. They have region codes at most levels you could want: global, country, state, city, metropolitan area, etc. At the widest, time span can go from 2004-present. At the shortest, you can pull trends from the last hour!">

<meta property="og:title" content="" />
<meta property="og:description" content="Google Trends Dan Demo, August 2018
There is an R package that allows you to directly import GoogleTrend data. You specify 1) search terms, 2) geographic region, and 3) time span. You can search one word or multiple-word phrases by combining with “&#43;”. They have region codes at most levels you could want: global, country, state, city, metropolitan area, etc. At the widest, time span can go from 2004-present. At the shortest, you can pull trends from the last hour!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/private/dan_gtdemo/" />

















<title>


      

</title>
<link rel="canonical" href="/private/dan_gtdemo/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="/css/reset.css?t=2018-09-21%2016%3a54%3a32.837614%20-0400%20EDT%20m%3d%2b1.170704407">
    <link rel="stylesheet" href="/css/pygments.css?t=2018-09-21%2016%3a54%3a32.837614%20-0400%20EDT%20m%3d%2b1.170704407">
    <link rel="stylesheet" href="/css/main.css?t=2018-09-21%2016%3a54%3a32.837614%20-0400%20EDT%20m%3d%2b1.170704407">
    
        <link rel="stylesheet" href="/css/override.css?t=2018-09-21%2016%3a54%3a32.837614%20-0400%20EDT%20m%3d%2b1.170704407">
    




<link rel="shortcut icon"

    href="/img/favicon.ico"

>








</head>


<body lang="en">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                <a href="/"><img class="avatar" src="/img/fb2.jpg" srcset="/img/fb2.jpg 1x"></a>
            
            <a href="/"><div class="name">John A. Bernau</div></a>
            
              <h3 class="self-intro">PhD Candidate, Sociology</h3>
            
            <nav>
                <ul>
                    
                        <li class="nav-research"><a href="/xresearch/"><span>research</span></a></li>
                    
                        <li class="nav-teaching"><a href="/xteaching/"><span>Teaching</span></a></li>
                    
                        <li class="nav-blog"><a href="/blog/"><span>Blog</span></a></li>
                    
                        <li class="nav-code"><a href="/xcode/"><span>Code</span></a></li>
                    
                        <li class="nav-about"><a href="/about/"><span>About</span></a></li>
                    
                        <li class="nav-cv"><a href="/img/bernau_cv_2018.pdf"><span>CV</span></a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">
        
            <a href="https://github.com/johnbernau" target="_blank" rel="noopener"><img class="icon" src="/img/github.svg" alt="github" /></a>
        

        
            <a href="https://twitter.com/johnAbernau" target="_blank" rel="noopener"><img class="icon" src="/img/twitter.svg" alt="twitter" /></a>
        

	

        

        

        
            <a href="https://www.linkedin.com/in/john-bernau-b384a9153" target="_blank" rel="noopener"><img class="icon" src="/img/linkedin.svg" alt="linkedin" /></a>
        

        

        

        

        

        
            <a href="mailto:john.bernau@emory.edu"><img class="icon" src="/img/email.svg" alt="email" /></a>
        

        

        
        </div>
    </div>
</section>

<section class="main">
    <div class="container">
        <div class="content">
            <div class="page-heading">

    

</div>

            <div class="markdown">
                <div id="google-trends" class="section level2">
<h2>Google Trends</h2>
<p><em>Dan Demo, August 2018</em></p>
<hr />
<p>There is an R package that allows you to directly import GoogleTrend data. You specify 1) search terms, 2) geographic region, and 3) time span. You can search one word or multiple-word phrases by combining with “+”. They have region codes at most levels you could want: global, country, state, city, metropolitan area, etc. At the widest, time span can go from 2004-present. At the shortest, you can pull trends from the last hour!</p>
<p><strong>State-level geo codes</strong></p>
<pre><code>##   country_code sub_code          name
## 1           US          UNITED STATES
## 2           US    US-AL       ALABAMA
## 3           US    US-AK        ALASKA
## 4           US    US-AZ       ARIZONA
## 5           US    US-AR      ARKANSAS
## 6           US    US-CA    CALIFORNIA</code></pre>
<p><strong>City-level geo codes</strong></p>
<pre><code>##         sub_code         name
## 122674 US-GA-525   Albany, GA
## 122675 US-GA-524  Atlanta, GA
## 122676 US-GA-520  Augusta, GA
## 122677 US-GA-522 Columbus, GA
## 122678 US-GA-503    Macon, GA
## 122679 US-GA-507 Savannah, GA</code></pre>
<p><strong>Check out this plot of “mass shooting” vs “gun control” for the US over the last five years:</strong></p>
<p><img src = "/private/2terms.jpg" /></p>
<p><strong>Now check out this plot of the same terms but in the last hour(!). I’ll have to check what time zone it’s using…</strong></p>
<p><img src = "/private/2terms_min.jpg" /></p>
<p>Notice the y-axis is using their scaling technique. Within the parameters of your search, the highest point gets a value of 100 and the rest are scaled against this value. This is important to keep in mind when doing comparisons. If you want to compare regions, for example, make sure you have everything included in the primary search. I’ll have to go back and read some of SD’s articles on the weeds of this measure.</p>
<p><strong>Here’s a plot of “gun control” searches over four states from 2004-present:</strong></p>
<p><img src = "/private/4state.jpg"  width = "600" /></p>
<hr />
<p><strong>Also this because I just learned how and it’s awesome…</strong></p>
<p><a href="/private/gt_guns2.jpg"><img src = "/private/gt_guns2.gif"></a></p>
<p><a href="/private/gt_guns.jpg"><img src = "/private/gt_guns.gif"></a></p>
<p>(Click for enlarged / static plot)</p>
<p>Bottom line - let’s write a paper ASAP. This stuff is cool and the data is out there! Your criminology angle sounds promising and I’ll take your lead on what would be most interesting in the field. I think we talked about some validation measures: what kind of data could we use to test alongside google trends? what are some of the research questions we talked about? Obviously this stuff is just descriptive at this point, but there’s lots of room for modeling / inference too. The data is pretty minimal in terms of interesting variables, but we can pair this with other measures that correspond to time / region.</p>
<pre><code>##          date hits     keyword   geo gprop category
## 1  2004-01-01   27 gun+control US-IA   web        0
## 2  2004-01-01    8 gun+control US-CT   web        0
## 3  2004-01-01   17 gun+control US-NJ   web        0
## 4  2004-01-01    6 gun+control US-GA   web        0
## 5  2004-02-01   45 gun+control US-IA   web        0
## 6  2004-02-01    8 gun+control US-CT   web        0
## 7  2004-02-01   22 gun+control US-NJ   web        0
## 8  2004-02-01   16 gun+control US-GA   web        0
## 9  2004-03-01   59 gun+control US-IA   web        0
## 10 2004-03-01   30 gun+control US-CT   web        0
## 11 2004-03-01   21 gun+control US-NJ   web        0
## 12 2004-03-01   21 gun+control US-GA   web        0
## 13 2004-04-01   12 gun+control US-IA   web        0
## 14 2004-04-01   24 gun+control US-CT   web        0
## 15 2004-04-01   18 gun+control US-NJ   web        0</code></pre>
</div>

            </div>
        </div>
    </div>
</section>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-118509886-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>





</body>
</html>

